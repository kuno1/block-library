{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/blocks/section.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","registerBlockType","wp","blocks","i18n","__","sprintf","addQueryArgs","url","applyFilters","hooks","components","PanelBody","ToggleControl","TextControl","Button","RangeControl","blockEditor","InnerBlocks","withColors","InspectorControls","PanelColorSettings","MediaUpload","getBlurStyle","attributes","blurPadding","blur","left","right","top","bottom","filter","classNameFromAttributes","className","push","more","minHeight","join","setBgClass","classNames","backgroundColor","sectionStyle","styles","paddingVertical","paddingHorizontal","padding","backgroundImage","length","getVideoTag","movie","provider","id","match","RegExp","$1","playerUrl","autoplay","loop","playlist","controls","enablejsapi","modestbranding","origin","window","location","hostname","playsinline","fs","mute","title","src","autoPlay","muted","playsInline","poster","repeat","icon","category","description","supports","align","hasContainer","type","default","opacity","height","label","edit","props","setAttributes","setBackgroundColor","initialOpen","checked","onChange","help","parseInt","colorSettings","color","disableCustomColors","min","max","val","style","textAlign","maxWidth","width","alt","onSelect","imageObject","image","sizes","full","allowedTypes","render","open","isSecondary","onClick","isTertiary","placeholder","KblSection","container_class","no_container_class","save","bgClass","maxHeight","Content"],"mappings":"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","file":"section.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","/*!\n * Enhanced section blocks.\n * wpdeps=wp-blocks,kbl,wp-block-editor, wp-components, wp-hooks, wp-url\n */\n\nconst { registerBlockType } = wp.blocks;\nconst { __, sprintf } = wp.i18n;\nconst { addQueryArgs } = wp.url;\nconst { applyFilters } = wp.hooks;\nconst { PanelBody, ToggleControl, TextControl, Button, RangeControl } = wp.components;\nconst { InnerBlocks, withColors, InspectorControls, PanelColorSettings, MediaUpload } = wp.blockEditor;\n\n/* global KblSection: false */\n\n/**\n * Get blur attributes.\n *\n * @param {Object} attributes\n * @return {{filter: string, top: string, left: string, bottom: string, right: string}} Style object.\n */\nconst getBlurStyle = ( attributes ) => {\n\tconst blurPadding = attributes.blur * -1 + 'px';\n\treturn {\n\t\tleft: blurPadding,\n\t\tright: blurPadding,\n\t\ttop: blurPadding,\n\t\tbottom: blurPadding,\n\t\tfilter: `blur( ${ attributes.blur }px )`\n\t}\n};\n\nconst classNameFromAttributes = ( className, attributes ) => {\n\tclassName = className ? [ className, 'kbl-section' ] : [ 'kbl-section' ];\n\tif ( attributes.blur ) {\n\t\tclassName.push( 'has-blur' );\n\t}\n\tif ( attributes.more ) {\n\t\tclassName.push( 'has-more-button' );\n\t}\n\tif ( attributes.minHeight ) {\n\t\tclassName.push( 'has-min-height' );\n\t}\n\tclassName = applyFilters( 'kbl.section.className', className, attributes );\n\treturn className.join( ' ' );\n};\n\nconst setBgClass = ( attributes ) => {\n\tconst classNames = [ 'kbl-section-bg' ];\n\tif ( attributes.backgroundColor ) {\n\t\tclassNames.push( 'has-background-color' );\n\t\tclassNames.push( `has-${ attributes.backgroundColor }-background-color` );\n\t}\n\treturn classNames.join( ' ' );\n};\n\nconst sectionStyle = ( attributes ) => {\n\tconst styles = {};\n\tif ( attributes.paddingVertical || attributes.paddingHorizontal ) {\n\t\tstyles.padding = sprintf( '%dpx %dpx', attributes.paddingVertical, attributes.paddingHorizontal );\n\t}\n\tif ( attributes.backgroundImage && attributes.backgroundImage.length ) {\n\t\tstyles.backgroundImage = sprintf( 'url(\\'%s\\')', attributes.backgroundImage );\n\t}\n\tif ( 0 < attributes.minHeight ) {\n\t\tstyles.minHeight = sprintf( '%dvh', attributes.minHeight );\n\t}\n\treturn styles;\n};\n\nconst getVideoTag = ( attributes ) => {\n\tif ( ! attributes.movie ) {\n\t\treturn null;\n\t}\n\tlet provider = '';\n\tlet id = '';\n\tif ( attributes.movie.match( /https?:\\/\\/www.youtube.com.*v=(.*)/ ) ) {\n\t\tprovider = 'youtube';\n\t\tid = RegExp.$1;\n\t} else if ( attributes.movie.match( /https:\\/\\/youtu.be\\/(.*[^?])/ ) ) {\n\t\tprovider = 'youtube';\n\t\tid = RegExp.$1;\n\t}\n\n\tswitch ( provider ) {\n\t\tcase 'youtube':\n\t\t\tconst playerUrl = addQueryArgs( sprintf( 'https://www.youtube.com/embed/%s', id ), {\n\t\t\t\tautoplay: 1,\n\t\t\t\tloop: attributes.loop ? 1 : 0,\n\t\t\t\tplaylist: id,\n\t\t\t\tcontrols: 0,\n\t\t\t\tenablejsapi: 1,\n\t\t\t\tmodestbranding: 1,\n\t\t\t\torigin: window.location.hostname,\n\t\t\t\tplaysinline: 1,\n\t\t\t\tfs: 0,\n\t\t\t\tmute: 1,\n\t\t\t} );\n\t\t\treturn (\n\t\t\t\t<div className=\"kbl-section-youtube-container\">\n\t\t\t\t\t<iframe className=\"kbl-section-youtube\"  name=\"movie\" title=\"\" src={ playerUrl} />\n\t\t\t\t</div>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<video className=\"kbl-section-video\" autoPlay={ true } muted={ true } playsInline={ true } poster={ attributes.backgroundImage || null } loop={ attributes.repeat }>\n\t\t\t\t\t<source className=\"kbl-section-video-source\" src={ attributes.movie } />\n\t\t\t\t</video>\n\t\t\t);\n\t}\n};\n\nregisterBlockType( 'kunoichi/section', {\n\n\ttitle: __( 'Section', 'kbl' ),\n\n\ticon: 'grid-view',\n\n\tcategory: 'layout',\n\n\tdescription: __( 'Enhanced group block which supports background.', 'kbl' ),\n\n\tsupports: {\n\t\talign: [ 'wide', 'full' ],\n\t},\n\n\tattributes: {\n\t\thasContainer: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tminHeight: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 0,\n\t\t},\n\t\tpaddingVertical: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 40,\n\t\t},\n\t\tpaddingHorizontal: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 0,\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttype: 'string',\n\t\t},\n\t\topacity: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 0,\n\t\t},\n\t\tbackgroundImage: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tblur: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 0,\n\t\t},\n\t\tmore: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\theight: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 200,\n\t\t},\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tmovie: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\trepeat: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t}\n\t},\n\n\tedit: withColors( 'backgroundColor' )( ( props ) => {\n\t\tconst { attributes, setAttributes, className, backgroundColor, setBackgroundColor } = props;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Layout', 'kbl' ) } initialOpen={ false }>\n\t\t\t\t\t\t{ applyFilters( 'kbl.section.layout', <>\n\t\t\t\t\t\t\t<ToggleControl label={ __( 'Container inside', 'kbl' ) } checked={ attributes.hasContainer }\n\t\t\t\t\t\t\t\tonChange={ ( hasContainer ) => setAttributes( { hasContainer } ) }\n\t\t\t\t\t\t\t\thelp={ __( 'If checked, container will be inside.', 'kbl' ) } />\n\t\t\t\t\t\t\t<TextControl label={ __( 'Vertical Padding', 'kbl' ) } value={ attributes.paddingVertical }\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tonChange={ value => setAttributes( { paddingVertical: parseInt( value, 10 ) } ) } />\n\t\t\t\t\t\t\t<TextControl label={ __( 'Horizontal Padding', 'kbl' ) }\n\t\t\t\t\t\t\t\tvalue={ attributes.paddingHorizontal } type=\"number\"\n\t\t\t\t\t\t\t\tonChange={ value => setAttributes( { paddingHorizontal: parseInt( value, 10 ) } ) } />\n\t\t\t\t\t\t\t<TextControl label={ __( 'Vertical Height', 'kbl' ) }\n\t\t\t\t\t\t\t\tvalue={ attributes.minHeight } type=\"number\"\n\t\t\t\t\t\t\t\tonChange={ minHeight => setAttributes( { minHeight: parseInt( minHeight, 10 ) } ) }\n\t\t\t\t\t\t\t\thelp={ __( 'Percentage of window height. For example, If set to 100, this block will have 100% of window height.', 'kbl' ) } />\n\t\t\t\t\t\t</>, props ) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelColorSettings title={ __( 'Background Color Setting', 'kbl' ) }\n\t\t\t\t\t\tinitialOpen={ true }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: backgroundColor.color,\n\t\t\t\t\t\t\t\tlabel: __( 'Background Color', 'kbl' ),\n\t\t\t\t\t\t\t\tonChange: setBackgroundColor,\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }>\n\t\t\t\t\t\t<RangeControl label={ __( 'Opacity', 'kbl' ) }\n\t\t\t\t\t\t\tvalue={ attributes.opacity }\n\t\t\t\t\t\t\tmin={ 0 } max={ 100 }\n\t\t\t\t\t\t\tonChange={ val => setAttributes( { opacity: val } ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelColorSettings>\n\t\t\t\t\t<PanelBody title={ __( 'Background Image', 'kbl' ) } initialOpen={ true }>\n\t\t\t\t\t\t{ attributes.backgroundImage ? (\n\t\t\t\t\t\t\t<p style={ { textAlign: 'center' } }>\n\t\t\t\t\t\t\t\t<img style={ { maxWidth: '100%', width: 'auto', height: 'auto' } }\n\t\t\t\t\t\t\t\t\tclassName='kbl-section-background-sample' src={ attributes.backgroundImage }\n\t\t\t\t\t\t\t\t\talt='' />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p className='kbl-section-background-desc description'>\n\t\t\t\t\t\t\t\t{ __( 'Set background image for section.', 'kbl' ) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tonSelect={ ( imageObject ) => {\n\t\t\t\t\t\t\t\tlet image = imageObject.sizes.full.url;\n\t\t\t\t\t\t\t\tif ( imageObject.sizes[ 'full-width' ] ) {\n\t\t\t\t\t\t\t\t\timage = imageObject.sizes[ 'full-width' ].url;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetAttributes( { backgroundImage: image } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<Button isSecondary onClick={ open }>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Select Image', 'kbl' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{ attributes.backgroundImage ? (\n\t\t\t\t\t\t\t\t\t\t<Button isTertiary onClick={ () => setAttributes( { backgroundImage: '' } ) }>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Clear', 'kbl' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<RangeControl label={ __( 'Blur', 'kbl' ) }\n\t\t\t\t\t\t\tvalue={ attributes.blur }\n\t\t\t\t\t\t\tmin={ 0 } max={ 20 }\n\t\t\t\t\t\t\tonChange={ val => setAttributes( { blur: val } ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody title={ __( 'Background Movie', 'kbl' ) } initialOpen={ false }>\n\t\t\t\t\t\t<TextControl label={ __( 'Movie URL', 'kbl' ) } value={ attributes.movie } placeholder=\"https://example.com/movie.mov\"\n\t\t\t\t\t\t\ttype=\"url\" help={ __( 'Enter movie file URL. YouTube is also supported.', 'kbl' ) }\n\t\t\t\t\t\t\tonChange={ movie => setAttributes( { movie } ) } />\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tonSelect={ ( { url } ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { movie: url } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tallowedTypes={ [ 'video' ] }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<Button isSecondary onClick={ open }>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Select Uploaded Video', 'kbl' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{ attributes.movie ? (\n\t\t\t\t\t\t\t\t\t\t<Button isTertiary onClick={ () => setAttributes( { movie: '' } ) }>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Clear', 'kbl' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl checked={ attributes.repeat } label={ __( 'Repeat', 'kbl' ) } onChange={ repeat => setAttributes( { repeat } ) } />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody title={ __( 'Hidden Contents', 'kbl' ) }>\n\t\t\t\t\t\t<ToggleControl checked={ attributes.more } label={ __( 'Hide Contents', 'kbl' ) }\n\t\t\t\t\t\t\tonChange={ ( more ) => setAttributes( { more } ) }\n\t\t\t\t\t\t\thelp={ __( 'If checked, contents will be hidden.', 'kbl' ) } />\n\t\t\t\t\t\t<TextControl type=\"number\" value={ attributes.height } label={ __( 'Preview Height', 'kbl' ) }\n\t\t\t\t\t\t\tonChange={ ( height ) => setAttributes( { height } ) } />\n\t\t\t\t\t\t<TextControl type=\"text\" value={ attributes.label }\n\t\t\t\t\t\t\tlabel={ __( 'Label for revealing button.', 'kbl' ) }\n\t\t\t\t\t\t\tonChange={ ( label ) => setAttributes( { label } ) }\n\t\t\t\t\t\t\tplaceholder={ __( 'e.g. Read More', 'kbl' ) } />\n\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<section className={ classNameFromAttributes( className, attributes ) }\n\t\t\t\t\tstyle={ sectionStyle( attributes ) }>\n\t\t\t\t\t{ attributes.blur ? (\n\t\t\t\t\t\t<div className='kbl-section-blur' style={ getBlurStyle( attributes ) } />\n\t\t\t\t\t) : null }\n\t\t\t\t\t{ getVideoTag( attributes ) }\n\t\t\t\t\t<div className={ setBgClass( attributes ) } style={ { opacity: attributes.opacity / 100 } } />\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ attributes.hasContainer ? KblSection.container_class : KblSection.no_container_class }>\n\t\t\t\t\t\t<InnerBlocks />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ attributes.more && (\n\t\t\t\t\t\t<button className=\"kbl-section-more\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"kbl-section-more-label\">{ attributes.label || __( 'Read More', 'kbl' ) }</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) }\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t} ),\n\n\tsave( { attributes } ) {\n\t\tlet bgClass = 'wp-block-kunoichi-section-bg';\n\t\tif ( attributes.backgroundColor ) {\n\t\t\tbgClass += ' has-background-color has-' + attributes.backgroundColor + '-background-color';\n\t\t}\n\t\tconst classNames = classNameFromAttributes( null, attributes );\n\t\tconst styles = sectionStyle( attributes );\n\t\tif ( attributes.more ) {\n\t\t\tstyles.maxHeight = sprintf( '%dpx', attributes.height );\n\t\t}\n\n\t\treturn <section className={ classNames } style={ styles }>\n\t\t\t{ attributes.blur ? (\n\t\t\t\t<div className='wp-block-kunoichi-section-blur' style={ getBlurStyle( attributes ) } />\n\t\t\t) : null }\n\t\t\t{ getVideoTag( attributes ) }\n\t\t\t<div className={ bgClass } style={ { opacity: attributes.opacity / 100 } } />\n\t\t\t<div className={ attributes.hasContainer ? KblSection.container_class : KblSection.no_container_class }>\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t\t{ attributes.more && (\n\t\t\t\t<button className=\"kbl-section-more\">\n\t\t\t\t\t<span className=\"kbl-section-more-label\">{ attributes.label || __( 'Read More', 'kbl' ) }</span>\n\t\t\t\t</button>\n\t\t\t) }\n\t\t</section>;\n\t}\n} );\n"],"sourceRoot":""}